
<div ng-repeat="post in post.pages" class="ng-cloak">
  <div class="container-fluid container-content">
    <div class="row">
      <div class="col-xs-12 main-heading no-padding animated fadeIn">
        <h1><span>{$ post.title $}</span></h1>
        <h2><span>{$ post.date | date : 'd  MMMM  yyyy' $}</span></h2>
      </div>
    </div>

    <div ng-if="post.main_background_image">
      <div class="main-background animated fadeIn">
        <img ng-src="{$ getImage(post.main_background_image.id) $}" class="img-responsive .main-background">
      </div>
    </div>

    <div ng-if="post.main_image">
      <div class="row main-image box animated fadeIn">
        <div class="col-xs-12">
          <img ng-src="{$ getImage(post.main_image.id) $}" class="img-responsive main-image-plus">
        </div>
      </div>
    </div>

    <div ng-if="post.intro">
      <div class="row content box animated fadeIn">
        <div class="col-xs-10 col-xs-offset-1" ng-bind-html="post.intro">
        </div>
      </div>
    </div>

    <div ng-repeat="content in post.content">

      <div ng-if="content.type == 'content'">
        <div class="row content box animated fadeIn">
            <div class="col-xs-10 col-xs-offset-1" ng-bind-html="content.value">
            </div>
        </div>
      </div>

      <div ng-if="content.type == 'code_block'">
        <div class="row content box animated fadeIn">
          <div class="col-xs-10 col-xs-offset-1" ng-bind-html="content.value | unsafe">
          </div>
        </div>
      </div>

      <div ng-if="content.type == 'subheading'">
        <div class="row subheading animated fadeIn">
          <div class="col-xs-8 col-xs-offset-2">
            <h2><span ng-bind-html="content.value"></span></h2>
          </div>
        </div>
      </div>

      <div ng-if="content.type == 'smaller_subheading'">
        <div class="row subheading-smaller animated fadeIn">
          <div class="col-xs-8 col-xs-offset-2">
            <div ng-bind-html="content.value"></div>
          </div>
        </div>
      </div>

      <div ng-if="content.type == 'subheading_background'">
        <div class="row subheading-background animated fadeIn">
           <img ng-src="{$ getImage(content.value) $}" class="img-responsive">
        </div>
      </div>

      <div ng-if="content.type == 'full_image'">
        <div class="row full-image box animated fadeIn">
          <div class="col-xs-12">
            <img ng-src="{$ getImage(content.value) $}" class="img-responsive">
          </div>
        </div>
      </div>

    </div>

    <div ng-repeat="related_post in post.related_post | limitTo : 1">
    <div ng-show="related_post">
      <div class="row subheading-related animated fadeIn">
        <div class="col-xs-8 col-xs-offset-2">
          <h3>Related Posts</h3>
        </div>
      </div>
    </div>
      </div>

    <div class="row box related-post">
      <div ng-if="post.related_post" ng-repeat="related_post in post.related_post">
        <ul>
          <div  ng-repeat="posT in posts.pages" class="col-xs-12">
            <span ng-if="related_post.value == posT.id">
              <a href="{$ '#/blog/' + slugify(posT.title) $}"><li>{$ posT.title $}</li></a>
            </span>
          </div >
        </ul>
      </div>
    </div>

    <div class="row box">
      <div disqus=" post.id "></div>
    </div>


  </div>
</div>
