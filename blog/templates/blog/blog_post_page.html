
<div ng-repeat="post in post.pages" class="ng-cloak">
  <div class="container-fluid">
    <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2">

      <div class="row">
        <div class="col-xs-12 col-sm-10 col-sm-offset-1 main-heading animated fadeIn">

          <div ng-if="post.main_image">
            <div class="main-image">
              <img ng-src="{$ getImage(post.main_image.id) $}" class="img-responsive">
            </div>
          </div>

          <h1>{$ post.title $}</h1>
          <h2>{$ post.date | date : 'd  MMMM  yyyy' $}</h2>

        </div>
      </div>

      <div ng-if="post.main_background_image">
        <div class="main-background">
          <img ng-src="{$ getImage(post.main_background_image.id) $}" class="img-responsive .main-background">
        </div>
      </div>

      <div ng-repeat="content in post.content">
        <div ng-if="content.type == 'content'">
          <div class="row content animated fadeIn">
              <div class="col-xs-10 col-xs-offset-1" ng-bind-html="content.value">
              </div>
          </div>
        </div>

        <div ng-if="content.type == 'code_block'">
          <div class="row code-block animated fadeIn">
            <div class="col-xs-12 col-sm-8 col-sm-offset-2" ng-bind-html="content.value | unsafe">
            </div>
          </div>
        </div>

        <div ng-if="content.type == 'subheading'">
          <div class="row subheading animated fadeIn">
            <div class="col-xs-10 col-xs-offset-1">
              <h1 ng-bind-html="content.value"></h1>
            </div>
          </div>
        </div>

        <div ng-if="content.type == 'smaller_subheading'">
          <div class="row subheading-smaller animated fadeIn">
            <div class="col-xs-8 col-xs-offset-2">
              <div ng-bind-html="content.value"></div>
            </div>
          </div>
        </div>

        <div ng-if="content.type == 'subheading_background'">
          <div class="row subheading-background animated fadeIn">
             <img ng-src="{$ getImage(content.value) $}" class="img-responsive">
          </div>
        </div>

        <div ng-if="content.type == 'full_image'" class="full-image-container">
          <div class="row full-image animated fadeIn">
            <div class="col-xs-12">
              <img ng-src="{$ getImage(content.value) $}" class="img-responsive">
            </div>
          </div>
        </div>
      </div>

      <div ng-repeat="related_post in post.related_post | limitTo : 1">
        <div ng-show="related_post">
          <div class="row subheading-related animated fadeIn">
            <div class="col-xs-8 col-xs-offset-2">
              <h3>Related Posts</h3>
            </div>
          </div>
        </div>
      </div>

      <div class="row related-post">
        <div ng-if="post.related_post" ng-repeat="related_post in post.related_post">
          <ul>
            <div  ng-repeat="posT in posts.pages" class="col-xs-12 col-sm-10 col-sm-offset-1">
              <span ng-if="related_post.value == posT.id">
                <a href="{$ '#/blog/' + slugify(posT.title) $}"><li>{$ posT.title $}</li></a>
              </span>
            </div >
          </ul>
        </div>
      </div>

      <div class="row">
        <div disqus=" post.title "></div>
      </div>


    </div>
  </div>
</div>
