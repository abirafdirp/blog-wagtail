<div ng-repeat="post in post.pages" class="container">
    {$ setPageTitle(post.title) $}

    <div class="row">

      <div class="col s12 m10 offset-m1 main-heading animated fadeIn">

        <div ng-if="post.main_image" class="row">
          <div class="col s12 main-img-cont">
            <a ng-href="{$ getImage(post.main_image.id) $}" data-lightbox="image">
              <img ng-src="{$ getImage(post.main_image.id) $}" class="responsive-img z-depth-2">
              <span class="main-img-disc">{$ post.main_img_disc $}</span>
            </a>
          </div>
        </div>

        <h2 id="title" class="center-align">{$ post.title $}</h2>
        <div class="post-meta">
          <div class="valign-wrapper">
            <i class="material-icons">today</i>{$ post.date | date : 'd  MMMM  yyyy' $}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <i class="material-icons">view_list</i>
            <span ng-repeat="category in post.categories">
              <span class="meta-tag"><a href="{$ '#/blog?category=' + category.value $}"> &nbsp;{$ category.value $}&nbsp;</a></span>
            </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <i class="material-icons">perm_contact_calendar</i>&nbsp;By
              <a class="author-post" href="{$ '#/blog?author=' + post.author $}">
                &nbsp;{$ post.author $}
              </a>
          </div>
        </div>
      </div
    </div>

    <div ng-if="post.main_background_image">
      <div class="main-background">
        <img ng-src="{$ getImage(post.main_background_image.id) $}" class="responsive-img .main-background">
      </div>
    </div>

    <div ng-repeat="content in post.content">
      <div ng-if="content.type == 'content'">
        <div class="content animated fadeIn flow-text ">
            <div class="col s10 offset-s1" ng-bind-html="content.value">
            </div>
        </div>
      </div>

      <div ng-if="content.type == 'code_block'">
        <div class="code-block animated fadeIn">
          <div class="col s12 m10 offset-m1" ng-bind-html="content.value | unsafe">
          </div>
        </div>
      </div>

      <div ng-if="content.type == 'pre_tag'">
        <div class="code-block animated fadeIn">
          <div class="col s12 m10 offset-m1">
            <pre class="prettyprint">{$ content.value $}</pre>
          </div>
        </div>
      </div>

      <div ng-if="content.type == 'raw_html'">
        <div class="animated fadeIn">
          <div class="col s12 m10 offset-m1" ng-bind-html="content.value | unsafe">
          </div>
        </div>
      </div>

      <div ng-if="content.type == 'subheading'">
        <div class="animated fadeIn flow-text">
          <div class="col s12 m10 offset-m1 subheading">
            <h2 ng-bind-html="content.value"></h2>
          </div>
        </div>
      </div>

      <div ng-if="content.type == 'smaller_subheading'">
        <div class="animated fadeIn">
          <div class="col s12 m10 offset-m1 center-align subheading-smaller">
            <div ng-bind-html="content.value"></div>
          </div>
        </div>
      </div>

      <div ng-if="content.type == 'subheading_background'">
        <div class="subheading-background animated fadeIn">
           <img ng-src="{$ getImage(content.value) $}" class="responsive-img">
        </div>
      </div>

      <div ng-if="content.type == 'full_image'" class="center-align">
        <div class="animated fadeIn">
          <div class="col s12 m10 offset-m1 full-image-cont">
            <a href="{$ getImage(content.value) $}" data-lightbox="image"><img ng-src="{$ getImage(content.value) $}" class="responsive-img full-img"></a>
          </div>
        </div>
      </div>
    </div>

    <div class="col s12 m10 offset-m1 related-post flow-text" ng-show="post.related_post.length > 0">
      <h4>Related Post</h4>
      <div ng-repeat="related_post in post.related_post">
        <ul class="all-category" ng-repeat="posT in posts.pages" class="col s12 m10 offset-m1 flow-text">
          <li ng-if="related_post.value == posT.id"><a href="{$ '#/blog/' + slugify(posT.title) $}">{$ posT.title $}</a></li>
        </ul>
      </div>
    </div>

    <div class="col s12 m10 offset-m1" id="comments">
      <div disqus=" post.title "></div>
    </div>

</div>

<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=css&amp;skin=desert"></script>


